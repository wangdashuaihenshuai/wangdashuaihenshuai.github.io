{"version":3,"sources":["webpack:///./src/index.css?68b8","webpack:///./src/App.css?2a68","lib/gpuRun.ts","page/light/GPUCircle.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["gpu","GPU","GPURunner","N","width","hight","max_distance","circleInfos","calculate","newCalculate","createKernel","length","a","constants","TWO_PI","thread","z","Math","random","cosA","cos","sinA","sin","x","y","dx","dy","st","sqrt","distance","lightIndex","MIN_STEP_LEN","i","MAX_STEP","ox","oy","index","ddx","ddy","dt","PI","output","window","innerWidth","innerHeight","circleInfosToGPUCircle","infos","ret","info","push","r","light","g","b","render","initCanvas","circles","lightInfos","color","setOutput","setGraphical","dom","document","getElementById","innerHTML","appendChild","canvas","isStop","addCircleInfos","circleSDF","findCircle","circleInfo","frame","runner","gpuCircle","setCircles","lightInfo","run","getXYFromEvent","event","pageX","pageY","state","selectCircle","GPUCircle","useState","openWindow","setOpenWindow","Run","requestAnimationFrame","onNChange","value","setN","onClick","onOpenWindow","onMouseDown","circle","onMouseMove","onMouseUp","useEffect","background","span","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCA,GAAMA,IAAG,CAAG,GAAIC,mBAAJ,EAAZ,C,GAEqBC,iB,yBAOpB,mBAAYC,CAAZ,CAAuBC,KAAvB,CAAsCC,KAAtC,CAAqD,CAAC,+DANtDF,CAMqD,aALrDC,KAKqD,aAJrDC,KAIqD,aAHrDC,YAGqD,aAFrDC,WAEqD,aADrDC,SACqD,QACpD,KAAKL,CAAL,CAASA,CAAT,CACA,KAAKC,KAAL,CAAaA,KAAb,CACA,KAAKC,KAAL,CAAaA,KAAb,CACA,KAAKC,YAAL,CAAoBD,KAAK,CAAGD,KAAR,CAAgBC,KAAhB,CAAwBD,KAA5C,CACA,KAAKG,WAAL,CAAmB,EAAnB,CACA,KAAKC,SAAL,CAAiB,KAAKC,YAAL,EAAjB,CACA,C,4EAED,uBAAe,CACd,MAAOT,IAAG,CAACU,YAAJ,CAAiB,SAAUH,WAAV,CAAqCI,MAArC,CAAqD,CAC5E,gBACA,GAAMC,EAAC,CAAG,KAAKC,SAAL,CAAeC,MAAf,EAAyB,KAAKC,MAAL,CAAYC,CAAZ,CAAgB,IAAhB,CAAuBC,IAAI,CAACC,MAAL,EAAhD,EAAiE,KAAKL,SAAL,CAAeV,CAA1F,CACA,GAAMgB,KAAI,CAAGF,IAAI,CAACG,GAAL,CAASR,CAAT,CAAb,CACA,GAAMS,KAAI,CAAGJ,IAAI,CAACK,GAAL,CAASV,CAAT,CAAb,CACA,GAAMW,EAAC,CAAG,KAAKR,MAAL,CAAYQ,CAAtB,CACA,GAAMC,EAAC,CAAG,KAAKT,MAAL,CAAYS,CAAtB,CACA;AAEA,GAAIC,GAAE,CAAGF,CAAC,CAAGhB,WAAW,CAAC,CAAD,CAAX,CAAe,CAAf,EAAkB,CAAlB,CAAb,CACA,GAAImB,GAAE,CAAGF,CAAC,CAAGjB,WAAW,CAAC,CAAD,CAAX,CAAe,CAAf,EAAkB,CAAlB,CAAb,CACA,GAAIoB,GAAE,CAAGV,IAAI,CAACW,IAAL,CAAUH,EAAE,CAAGA,EAAL,CAAUC,EAAE,CAAGA,EAAzB,EAA+BnB,WAAW,CAAC,CAAD,CAAX,CAAe,CAAf,EAAkB,CAAlB,CAAxC,CAEA,GAAIsB,SAAQ,CAAG,CAAf,CACA,GAAIC,WAAU,CAAG,CAAC,CAAlB,CACA,GAAIH,EAAE,CAAG,KAAKd,SAAL,CAAekB,YAAxB,CAAsC,CACrC,MAAO,EAAP,CACA,CAED,IAAK,GAAIC,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,KAAKnB,SAAL,CAAeoB,QAAnB,EAA+BJ,QAAQ,CAAG,KAAKhB,SAAL,CAAeP,YAAzE,CAAuF0B,CAAC,EAAxF,CAA4F,CAC3F;AACA,GAAIE,GAAE,CAAGX,CAAC,CAAGM,QAAQ,CAAGV,IAAxB,CACA,GAAIgB,GAAE,CAAGX,CAAC,CAAGK,QAAQ,CAAGR,IAAxB,CAEA,IAAK,GAAIe,MAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGzB,MAA5B,CAAoCyB,KAAK,EAAzC,CAA6C,CAC5C,GAAIC,IAAG,CAAGH,EAAE,CAAG3B,WAAW,CAAC6B,KAAD,CAAX,CAAmB,CAAnB,EAAsB,CAAtB,CAAf,CACA,GAAIE,IAAG,CAAGH,EAAE,CAAG5B,WAAW,CAAC6B,KAAD,CAAX,CAAmB,CAAnB,EAAsB,CAAtB,CAAf,CACA,GAAMG,GAAE,CAAGtB,IAAI,CAACW,IAAL,CAAUS,GAAG,CAAGA,GAAN,CAAYC,GAAG,CAAGA,GAA5B,EAAmC/B,WAAW,CAAC6B,KAAD,CAAX,CAAmB,CAAnB,EAAsB,CAAtB,CAA9C,CACA,GAAIG,EAAE,CAAGZ,EAAT,CAAa,CACZA,EAAE,CAAGY,EAAL,CACAT,UAAU,CAAGM,KAAb,CACA,CACD,CAED,gBACA,GAAIT,EAAE,CAAG,KAAKd,SAAL,CAAekB,YAAxB,CAAsC,CACrC,MAAOD,WAAP,CACA,CAEDD,QAAQ,CAAGA,QAAQ,CAAGF,EAAtB,CACA,CAED,MAAO,CAAC,CAAR,CACA,CA3CM,CA2CJ,CACFd,SAAS,CAAE,CACVV,CAAC,CAAE,KAAKA,CADE,CAEVG,YAAY,CAAE,KAAKA,YAFT,CAGVkC,EAAE,CAAEvB,IAAI,CAACuB,EAHC,CAIV1B,MAAM,CAAE,EAAIG,IAAI,CAACuB,EAJP,CAKVT,YAAY,CAAE,GALJ,CAMVE,QAAQ,CAAE,EANA,CADT,CASFQ,MAAM,CAAE,CAAC,KAAKpC,KAAN,CAAa,KAAKD,KAAlB,CAAyB,KAAKD,CAA9B,CATN,CA3CI,CAAP,CAsDA,C,oBAED,cAAKA,CAAL,CAAgBC,KAAhB,CAA+BC,KAA/B,CAA8C,CAC7C,KAAKF,CAAL,CAASA,CAAT,CACA,KAAKC,KAAL,CAAaA,KAAb,CACA,KAAKC,KAAL,CAAaA,KAAb,CACA,KAAKC,YAAL,CAAoBD,KAAK,CAAGD,KAAR,CAAgBC,KAAhB,CAAwBD,KAA5C,CACA,C,oBAED,cAAKD,CAAL,CAAgB,CACf,KAAKA,CAAL,CAASA,CAAT,CACA,KAAKK,SAAL,CAAiB,KAAKC,YAAL,EAAjB,CACA,C,0BAED,oBAAWF,WAAX,CAAsC,CACrC,KAAKA,WAAL,CAAmBA,WAAnB,CACA,C,mBAED,cAAoB,CACnB,MAAO,MAAKC,SAAL,CAAe,KAAKD,WAApB,CAAiC,KAAKA,WAAL,CAAiBI,MAAlD,CAAP,CACA,C;;;;;ACzFF,GAAMP,gBAAK,CAAGsC,MAAM,CAACC,UAArB,CACA,GAAMtC,gBAAK,CAAGqC,MAAM,CAACE,WAArB,CAEA,GAAM5C,cAAG,CAAG,GAAIC,mBAAJ,EAAZ,CAEA,QAAS4C,uBAAT,CAAgCC,KAAhC,CAA+D,CAC9D,GAAMC,IAAG,CAAG,EAAZ,CAD8D,mEAE3CD,KAF2C,YAE9D,+CAA0B,IAAfE,KAAe,aACzBD,GAAG,CAACE,IAAJ,CACC,CACC,CAACD,IAAI,CAACzB,CAAN,CAASyB,IAAI,CAACxB,CAAd,CAAiBwB,IAAI,CAACE,CAAtB,CADD,CAEC,CAACF,IAAI,CAACG,KAAL,CAAWD,CAAZ,CAAeF,IAAI,CAACG,KAAL,CAAWC,CAA1B,CAA6BJ,IAAI,CAACG,KAAL,CAAWE,CAAxC,CAFD,CADD,EAMA,CAT6D,qDAW9D,MAAON,IAAP,CACA,CAED,GAAIO,OAAW,CAAG,IAAlB,CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAY,CAC9BD,MAAM,CAAGtD,aAAG,CAACU,YAAJ,CAAiB,SAAU8C,OAAV,CAAiCC,UAAjC,CAA2DtD,CAA3D,CAAsE,CAC/F,gBACA,GAAI+C,EAAC,CAAG,CAAR,CACA,GAAIE,EAAC,CAAG,CAAR,CACA,GAAIC,EAAC,CAAG,CAAR,CACA,IAAK,GAAIjB,MAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGjC,CAA5B,CAA+BiC,KAAK,EAApC,CAAwC,CACvC,GAAMN,WAAU,CAAG2B,UAAU,CAACrB,KAAD,CAAV,CAAkB,KAAKrB,MAAL,CAAYQ,CAA9B,EAAiC,KAAKR,MAAL,CAAYS,CAA7C,CAAnB,CACA,GAAIM,UAAU,EAAI,CAAlB,CAAqB,CACpBoB,CAAC,CAAGA,CAAC,CAAGM,OAAO,CAAC1B,UAAD,CAAP,CAAoB,CAApB,EAAuB,CAAvB,CAAR,CACAsB,CAAC,CAAGA,CAAC,CAAGI,OAAO,CAAC1B,UAAD,CAAP,CAAoB,CAApB,EAAuB,CAAvB,CAAR,CACAuB,CAAC,CAAGA,CAAC,CAAGG,OAAO,CAAC1B,UAAD,CAAP,CAAoB,CAApB,EAAuB,CAAvB,CAAR,CACA,CACD,CACDoB,CAAC,CAAGA,CAAC,CAAG/C,CAAR,CACA,GAAI+C,CAAC,CAAG,CAAR,CAAW,CACVA,CAAC,CAAG,CAAJ,CACA,CAEDE,CAAC,CAAGA,CAAC,CAAGjD,CAAR,CACA,GAAIiD,CAAC,CAAG,CAAR,CAAW,CACVA,CAAC,CAAG,CAAJ,CACA,CAEDC,CAAC,CAAGA,CAAC,CAAGlD,CAAR,CACA,GAAIkD,CAAC,CAAG,CAAR,CAAW,CACVA,CAAC,CAAG,CAAJ,CACA,CACD,KAAKK,KAAL,CAAWR,CAAX,CAAcE,CAAd,CAAiBC,CAAjB,CAAoB,CAApB,EACA,CA5BQ,EA4BNM,SA5BM,CA4BI,CAACvD,eAAD,CAAQC,eAAR,CA5BJ,EA6BPuD,YA7BO,CA6BM,IA7BN,CAAT,CA8BA,GAAMC,IAAG,CAAGnB,MAAM,CAACoB,QAAP,CAAgBC,cAAhB,CAA+B,WAA/B,CAAZ,CACA,GAAIF,GAAJ,CAAS,CACRA,GAAG,CAACG,SAAJ,CAAgB,EAAhB,CACAH,GAAG,CAACI,WAAJ,CAAgBX,MAAM,CAACY,MAAvB,EACA,CACD,CApCD,CAuCA,gBACAxB,MAAM,CAACnC,WAAP,CAAqB,EAArB,CACA,gBACA,GAAMA,YAAW,CAAGmC,MAAM,CAACnC,WAA3B,CACA,GAAI4D,OAAM,CAAG,KAAb,CACA,QAASC,eAAT,CAAwBpB,IAAxB,CAAsC,CACrCmB,MAAM,CAAG,IAAT,CACA5D,WAAW,CAAC0C,IAAZ,CAAiB,CAChB1B,CAAC,CAAEyB,IAAI,CAACzB,CAAL,CAASlB,eADI,CAEhBmB,CAAC,CAAEwB,IAAI,CAACxB,CAAL,CAASpB,eAFI,CAGhB8C,CAAC,CAAEF,IAAI,CAACE,CAAL,CAAS7C,eAHI,CAIhB8C,KAAK,CAAEH,IAAI,CAACG,KAJI,CAAjB,EAMAI,UAAU,GACVY,MAAM,CAAG,KAAT,CACA,CAEDC,cAAc,CAAC,CACd7C,CAAC,CAAE,CADW,CAEdC,CAAC,CAAE,CAFW,CAGd0B,CAAC,CAAE,GAHW,CAIdC,KAAK,CAAE,CAAED,CAAC,CAAE,CAAL,CAAQE,CAAC,CAAE,CAAX,CAAcC,CAAC,CAAE,CAAjB,CAJO,CAAD,CAAd,CAOA,gBACAX,MAAM,CAAC0B,cAAP,CAAwB,UAAY,CACnCA,cAAc,CAAC,CACd7C,CAAC,CAAE,CADW,CAEdC,CAAC,CAAE,CAFW,CAGd0B,CAAC,CAAE,GAHW,CAIdC,KAAK,CAAE,CAAED,CAAC,CAAE,CAAL,CAAQE,CAAC,CAAE,CAAX,CAAcC,CAAC,CAAE,CAAjB,CAJO,CAAD,CAAd,CAMA,CAPD,CASA,GAAMgB,UAAS,CAAG,QAAZA,UAAY,CAAU9C,CAAV,CAAqBC,CAArB,CAAgCwB,IAAhC,CAAsD,CACvE,GAAMvB,GAAE,CAAGF,CAAC,CAAGyB,IAAI,CAACzB,CAApB,CACA,GAAMG,GAAE,CAAGF,CAAC,CAAGwB,IAAI,CAACxB,CAApB,CACA,MAAOP,KAAI,CAACW,IAAL,CAAUH,EAAE,CAAGA,EAAL,CAAUC,EAAE,CAAGA,EAAzB,EAA+BsB,IAAI,CAACE,CAA3C,CACA,CAJD,CAMA,GAAMoB,qBAAU,CAAG,QAAbA,WAAa,CAAU/C,CAAV,CAAqBC,CAArB,CAA+C,qEACxCjB,WADwC,aACjE,kDAAsC,IAA3BgE,WAA2B,cACrC,GAAMrB,EAAC,CAAGmB,SAAS,CAAC9C,CAAD,CAAIC,CAAJ,CAAO+C,UAAP,CAAnB,CACA,GAAIrB,CAAC,EAAI,CAAT,CAAY,CACX,MAAOqB,WAAP,CACA,CACD,CANgE,uDAQjE,MAAO,KAAP,CACA,CATD,CAWAH,cAAc,CAAC,CACd7C,CAAC,CAAE,CADW,CAEdC,CAAC,CAAE,CAFW,CAGd0B,CAAC,CAAE,GAHW,CAIdC,KAAK,CAAE,CAAED,CAAC,CAAE,CAAL,CAAQE,CAAC,CAAE,CAAX,CAAcC,CAAC,CAAE,CAAjB,CAJO,CAAD,CAAd,CAOAe,cAAc,CAAC,CACd7C,CAAC,CAAE,CADW,CAEdC,CAAC,CAAE,CAFW,CAGd0B,CAAC,CAAE,GAHW,CAIdC,KAAK,CAAE,CAAED,CAAC,CAAE,CAAL,CAAQE,CAAC,CAAE,CAAX,CAAcC,CAAC,CAAE,CAAjB,CAJO,CAAD,CAAd,CAQA,GAAMmB,gBAAK,CAAG,QAARA,MAAQ,CAAUC,MAAV,CAA6B,CAC1C,GAAIN,MAAJ,CAAY,CACX,OACA,CAED,GAAMO,UAAS,CAAG7B,sBAAsB,CAACtC,WAAD,CAAxC,CACAkE,MAAM,CAACE,UAAP,CAAkBD,SAAlB,EACA,GAAME,UAAS,CAAGH,MAAM,CAACI,GAAP,EAAlB,CACA,gBACAvB,MAAM,CAACoB,SAAD,CAAYE,SAAZ,CAAuBH,MAAM,CAACtE,CAA9B,CAAN,CACA,CAVD,CAYA,GAAM2E,eAAc,CAAG,QAAjBA,eAAiB,CAAUC,KAAV,CAAgD,CACtE,GAAQC,MAAR,CAAyBD,KAAzB,CAAQC,KAAR,CAAeC,KAAf,CAAyBF,KAAzB,CAAeE,KAAf,CACA,GAAM1D,EAAC,CAAGlB,eAAK,CAAG4E,KAAlB,CACA,GAAMzD,EAAC,CAAGwD,KAAV,CACA,MAAO,CAAEzD,CAAC,CAADA,CAAF,CAAKC,CAAC,CAADA,CAAL,CAAP,CACA,CALD,CAOA,GAAI0D,MAAK,CAAG,OAAZ,CAEA,GAAI/E,YAAC,CAAG,CAAR,CACA,GAAIgF,aAA2B,CAAG,IAAlC,CACe,QAASC,UAAT,EAAqB,CACnC,cAAoCC,yBAAQ,CAAU,KAAV,CAA5C,kEAAOC,UAAP,eAAmBC,aAAnB,eACA,GAAMd,OAAM,CAAG,GAAIvE,iBAAJ,CAAcC,WAAd,CAAiBC,eAAjB,CAAwBC,eAAxB,CAAf,CACA,QAASmF,IAAT,EAAe,CACdhB,eAAK,CAACC,MAAD,CAAL,CACA/B,MAAM,CAAC+C,qBAAP,CAA6BD,GAA7B,EACA,CAED,GAAME,UAAS,CAAG,QAAZA,UAAY,CAAUC,KAAV,CAAyB,CAC1CxF,WAAC,CAAGwF,KAAJ,CACApC,UAAU,GACVkB,MAAM,CAACmB,IAAP,CAAYD,KAAZ,EACA,CAJD,CAMA,GAAME,QAAO,CAAG,QAAVA,QAAU,CAAUd,KAAV,CAAsB,CACrC,oBAAiBD,cAAc,CAACC,KAAD,CAA/B,CAAQxD,CAAR,iBAAQA,CAAR,CAAWC,CAAX,iBAAWA,CAAX,CACA2D,YAAY,CAAGb,oBAAU,CAAC/C,CAAD,CAAIC,CAAJ,CAAzB,CACA,CAHD,CAKA,GAAMsE,aAAY,CAAG,QAAfA,aAAe,CAAUH,KAAV,CAA0B,CAC9CJ,aAAa,CAACI,KAAD,CAAb,CACA,CAFD,CAIA,GAAMI,YAAW,CAAG,QAAdA,YAAc,CAAUhB,KAAV,CAAsB,CACzC,qBAAiBD,cAAc,CAACC,KAAD,CAA/B,CAAQxD,CAAR,kBAAQA,CAAR,CAAWC,CAAX,kBAAWA,CAAX,CACA,GAAMwE,OAAM,CAAG1B,oBAAU,CAAC/C,CAAD,CAAIC,CAAJ,CAAzB,CACA,GAAI,CAACwE,MAAL,CAAa,CACZ,OACA,CAEDd,KAAK,CAAG,OAAR,CACAC,YAAY,CAAGa,MAAf,CACA,CATD,CAWA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAAUlB,KAAV,CAAsB,CACzC,GAAIG,KAAK,GAAK,OAAV,EAAqBC,YAAY,GAAK,IAA1C,CAAgD,CAC/C,OACA,CAED,qBAAiBL,cAAc,CAACC,KAAD,CAA/B,CAAQxD,CAAR,kBAAQA,CAAR,CAAWC,CAAX,kBAAWA,CAAX,CACA2D,YAAY,CAAC5D,CAAb,CAAiBA,CAAjB,CACA4D,YAAY,CAAC3D,CAAb,CAAiBA,CAAjB,CACA,CARD,CAUA,GAAM0E,UAAS,CAAG,QAAZA,UAAY,CAAUnB,KAAV,CAAsB,CACvC,GAAIG,KAAK,GAAK,OAAd,CAAuB,CACtBA,KAAK,CAAG,OAAR,CACA,CACD,CAJD,CAOAiB,0BAAS,CAAC,UAAM,CACf5C,UAAU,GACViC,GAAG,GACH,CAHQ,CAAT,CAKA,mBACC,0DACC,kCAAK,EAAE,CAAC,WAAR,CAAoB,OAAO,CAAEK,OAA7B,CAAsC,WAAW,CAAEE,WAAnD,CAAgE,WAAW,CAAEE,WAA7E,CAA0F,SAAS,CAAEC,SAArG,EADD,cAGC,mCAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAAEE,UAAU,CAAE,MAAd,CAAjC,WACEjB,YAAY,eACZ,2BAAC,0BAAD,CAAM,IAAN,EAAW,KAAK,CAAC,sCAAjB,uBACC,2BAAC,4BAAD,EAAQ,QAAQ,CAAEW,YAAlB,EADD,EAFF,cAMC,2BAAC,0BAAD,CAAM,IAAN,EAAW,KAAK,CAAC,0BAAjB,CAAwB,QAAQ,KAAhC,CAAiC,OAAO,CAAC,GAAzC,uBACC,2BAAC,yBAAD,EAAQ,GAAG,CAAE,CAAb,CAAgB,GAAG,CAAE,EAArB,CAAyB,aAAa,CAAEJ,SAAxC,CAAmD,YAAY,CAAEvF,WAAjE,EADD,EAND,GAHD,CAaEgF,YAAY,EAAIG,UAAhB,eACA,kCAAK,SAAS,CAAC,UAAf,uBACC,4BAAC,0BAAD,EAAM,QAAQ,CAAE,CAAEe,IAAI,CAAE,CAAR,CAAhB,CACC,UAAU,CAAE,CAAEA,IAAI,CAAE,EAAR,CADb,wBAEC,2BAAC,0BAAD,CAAM,IAAN,EAAW,KAAK,CAAC,eAAjB,CAAuB,QAAQ,KAA/B,CAAgC,OAAO,CAAC,GAAxC,uBACC,2BAAC,yBAAD,EAAQ,KAAK,KAAb,CAAc,YAAY,CAAE,CAAC,CAAD,CAAI,GAAJ,CAA5B,EADD,EAFD,cAKC,2BAAC,0BAAD,CAAM,IAAN,EAAW,KAAK,CAAC,GAAjB,CAAqB,QAAQ,KAA7B,CAA8B,OAAO,CAAC,GAAtC,uBACC,2BAAC,yBAAD,EAAQ,KAAK,KAAb,CAAc,YAAY,CAAE,CAAC,CAAD,CAAI,GAAJ,CAA5B,EADD,EALD,cAQC,2BAAC,0BAAD,CAAM,IAAN,EAAW,KAAK,CAAC,GAAjB,CAAqB,QAAQ,KAA7B,CAA8B,OAAO,CAAC,GAAtC,uBACC,2BAAC,yBAAD,EAAQ,KAAK,KAAb,CAAc,YAAY,CAAE,CAAC,CAAD,CAAI,GAAJ,CAA5B,EADD,EARD,cAWC,2BAAC,0BAAD,CAAM,IAAN,EAAW,KAAK,CAAC,GAAjB,CAAqB,QAAQ,KAA7B,CAA8B,OAAO,CAAC,GAAtC,uBACC,2BAAC,yBAAD,EAAQ,KAAK,KAAb,CAAc,YAAY,CAAE,CAAC,CAAD,CAAI,GAAJ,CAA5B,EADD,EAXD,GADD,EAdF,GADD,CAmCA,C;;AChPD,QAASC,QAAT,EAAe,CACb,mBACE,0EACE,kCAAK,SAAS,CAAC,KAAf,uBACE,2BAAC,SAAD,IADF,EADF,EADF,CAOD,CAEcA,mDAAf,E;;ACbA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,WAAD,CAAiC,CACvD,GAAIA,WAAW,EAAIA,WAAW,WAAYC,SAA1C,CAAoD,CAClD,kFAAqBC,IAArB,CAA0B,cAAiD,IAA9CC,OAA8C,MAA9CA,MAA8C,CAAtCC,MAAsC,MAAtCA,MAAsC,CAA9BC,MAA8B,MAA9BA,MAA8B,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAdC,OAAc,MAAdA,OAAc,CACzEJ,MAAM,CAACH,WAAD,CAAN,CACAI,MAAM,CAACJ,WAAD,CAAN,CACAK,MAAM,CAACL,WAAD,CAAN,CACAM,MAAM,CAACN,WAAD,CAAN,CACAO,OAAO,CAACP,WAAD,CAAP,CACD,CAND,EAOD,CACF,CAVD,CAYeD,uEAAf,E;;ACRAS,mBAAQ,CAAC1D,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIEQ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACAwC,mBAAe,G","file":"static/js/main.edebd061.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { GPU } from 'gpu.js'\nconst gpu = new GPU();\n\nexport default class GPURunner {\n\tN: number\n\twidth: number\n\thight: number\n\tmax_distance: number\n\tcircleInfos: number[][][]\n\tcalculate: any\n\tconstructor(N: number, width: number, hight: number) {\n\t\tthis.N = N\n\t\tthis.width = width\n\t\tthis.hight = hight\n\t\tthis.max_distance = hight > width ? hight : width;\n\t\tthis.circleInfos = []\n\t\tthis.calculate = this.newCalculate()\n\t}\n\n\tnewCalculate() {\n\t\treturn gpu.createKernel(function (circleInfos: number[][][], length: number) {\n\t\t\t/* @ts-ignore */\n\t\t\tconst a = this.constants.TWO_PI * (this.thread.z / 1.00 + Math.random()) / this.constants.N\n\t\t\tconst cosA = Math.cos(a)\n\t\t\tconst sinA = Math.sin(a)\n\t\t\tconst x = this.thread.x\n\t\t\tconst y = this.thread.y\n\t\t\t// \t/* @ts-ignore */\n\n\t\t\tlet dx = x - circleInfos[0][0][0]\n\t\t\tlet dy = y - circleInfos[0][0][1]\n\t\t\tlet st = Math.sqrt(dx * dx + dy * dy) - circleInfos[0][0][2]\n\n\t\t\tlet distance = 0\n\t\t\tlet lightIndex = -1\n\t\t\tif (st < this.constants.MIN_STEP_LEN) {\n\t\t\t\treturn 0\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < this.constants.MAX_STEP && distance < this.constants.max_distance; i++) {\n\t\t\t\t// \t/* @ts-ignore */\n\t\t\t\tlet ox = x + distance * cosA\n\t\t\t\tlet oy = y + distance * sinA\n\n\t\t\t\tfor (let index = 0; index < length; index++) {\n\t\t\t\t\tlet ddx = ox - circleInfos[index][0][0]\n\t\t\t\t\tlet ddy = oy - circleInfos[index][0][1]\n\t\t\t\t\tconst dt = Math.sqrt(ddx * ddx + ddy * ddy) - circleInfos[index][0][2]\n\t\t\t\t\tif (dt < st) {\n\t\t\t\t\t\tst = dt\n\t\t\t\t\t\tlightIndex = index\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* @ts-ignore */\n\t\t\t\tif (st < this.constants.MIN_STEP_LEN) {\n\t\t\t\t\treturn lightIndex\n\t\t\t\t}\n\n\t\t\t\tdistance = distance + st\n\t\t\t}\n\n\t\t\treturn -1\n\t\t}, {\n\t\t\tconstants: {\n\t\t\t\tN: this.N,\n\t\t\t\tmax_distance: this.max_distance,\n\t\t\t\tPI: Math.PI,\n\t\t\t\tTWO_PI: 2 * Math.PI,\n\t\t\t\tMIN_STEP_LEN: 0.1,\n\t\t\t\tMAX_STEP: 30\n\t\t\t},\n\t\t\toutput: [this.hight, this.width, this.N],\n\t\t})\n\t}\n\n\tinit(N: number, width: number, hight: number) {\n\t\tthis.N = N\n\t\tthis.width = width\n\t\tthis.hight = hight\n\t\tthis.max_distance = hight > width ? hight : width;\n\t}\n\n\tsetN(N: number) {\n\t\tthis.N = N\n\t\tthis.calculate = this.newCalculate()\n\t}\n\n\tsetCircles(circleInfos: number[][][]) {\n\t\tthis.circleInfos = circleInfos\n\t}\n\n\trun(): number[][][] {\n\t\treturn this.calculate(this.circleInfos, this.circleInfos.length)\n\t}\n}","import { GPU } from 'gpu.js';\nimport { useEffect, useState } from 'react';\nimport { Slider, Switch } from 'antd';\nimport { Form } from 'antd';\nimport GPURunner from '../../lib/gpuRun';\nconst width = window.innerWidth\nconst hight = window.innerHeight\n\nconst gpu = new GPU();\n\nfunction circleInfosToGPUCircle(infos: Circle[]): number[][][] {\n\tconst ret = []\n\tfor (const info of infos) {\n\t\tret.push(\n\t\t\t[\n\t\t\t\t[info.x, info.y, info.r],\n\t\t\t\t[info.light.r, info.light.g, info.light.b]\n\t\t\t]\n\t\t)\n\t}\n\n\treturn ret\n}\n\nlet render: any = null\n\nconst initCanvas = function () {\n\trender = gpu.createKernel(function (circles: number[][][], lightInfos: number[][][], N: number) {\n\t\t/* @ts-ignore */\n\t\tlet r = 0\n\t\tlet g = 0\n\t\tlet b = 0\n\t\tfor (let index = 0; index < N; index++) {\n\t\t\tconst lightIndex = lightInfos[index][this.thread.x][this.thread.y]\n\t\t\tif (lightIndex >= 0) {\n\t\t\t\tr = r + circles[lightIndex][1][0]\n\t\t\t\tg = g + circles[lightIndex][1][1]\n\t\t\t\tb = b + circles[lightIndex][1][2]\n\t\t\t}\n\t\t}\n\t\tr = r / N\n\t\tif (r > 1) {\n\t\t\tr = 1\n\t\t}\n\n\t\tg = g / N\n\t\tif (g > 1) {\n\t\t\tg = 1\n\t\t}\n\n\t\tb = b / N\n\t\tif (b > 1) {\n\t\t\tb = 1\n\t\t}\n\t\tthis.color(r, g, b, 1);\n\t}).setOutput([width, hight])\n\t\t.setGraphical(true)\n\tconst dom = window.document.getElementById('GPUCircle')\n\tif (dom) {\n\t\tdom.innerHTML = '';\n\t\tdom.appendChild(render.canvas);\n\t}\n}\n\n\n/* @ts-ignore */\nwindow.circleInfos = []\n/* @ts-ignore */\nconst circleInfos = window.circleInfos\nlet isStop = false\nfunction addCircleInfos(info: Circle) {\n\tisStop = true\n\tcircleInfos.push({\n\t\tx: info.x * hight,\n\t\ty: info.y * width,\n\t\tr: info.r * hight,\n\t\tlight: info.light\n\t})\n\tinitCanvas()\n\tisStop = false\n}\n\naddCircleInfos({\n\tx: 1,\n\ty: 1,\n\tr: 0.1,\n\tlight: { r: 0, g: 0, b: 2 },\n})\n\n/* @ts-ignore */\nwindow.addCircleInfos = function () {\n\taddCircleInfos({\n\t\tx: 1,\n\t\ty: 1,\n\t\tr: 0.1,\n\t\tlight: { r: 2, g: 0, b: 2 },\n\t})\n}\n\nconst circleSDF = function (x: number, y: number, info: Circle): number {\n\tconst dx = x - info.x\n\tconst dy = y - info.y\n\treturn Math.sqrt(dx * dx + dy * dy) - info.r\n}\n\nconst findCircle = function (x: number, y: number): Circle | null {\n\tfor (const circleInfo of circleInfos) {\n\t\tconst r = circleSDF(x, y, circleInfo)\n\t\tif (r <= 0) {\n\t\t\treturn circleInfo\n\t\t}\n\t}\n\n\treturn null\n}\n\naddCircleInfos({\n\tx: 0,\n\ty: 0,\n\tr: 0.1,\n\tlight: { r: 0, g: 2, b: 0 },\n})\n\naddCircleInfos({\n\tx: 0,\n\ty: 0,\n\tr: 0.1,\n\tlight: { r: 4, g: 0, b: 0 },\n})\n\n\nconst frame = function (runner: GPURunner) {\n\tif (isStop) {\n\t\treturn\n\t}\n\n\tconst gpuCircle = circleInfosToGPUCircle(circleInfos)\n\trunner.setCircles(gpuCircle)\n\tconst lightInfo = runner.run()\n\t/* @ts-ignore */\n\trender(gpuCircle, lightInfo, runner.N)\n}\n\nconst getXYFromEvent = function (event: any): { x: number, y: number } {\n\tconst { pageX, pageY } = event\n\tconst x = hight - pageY\n\tconst y = pageX\n\treturn { x, y }\n}\n\nlet state = \"sleep\"\n\nlet N = 2\nlet selectCircle: Circle | null = null\nexport default function GPUCircle() {\n\tconst [openWindow, setOpenWindow] = useState<boolean>(false)\n\tconst runner = new GPURunner(N, width, hight)\n\tfunction Run() {\n\t\tframe(runner);\n\t\twindow.requestAnimationFrame(Run)\n\t}\n\n\tconst onNChange = function (value: number) {\n\t\tN = value\n\t\tinitCanvas()\n\t\trunner.setN(value)\n\t};\n\n\tconst onClick = function (event: any) {\n\t\tconst { x, y } = getXYFromEvent(event)\n\t\tselectCircle = findCircle(x, y)\n\t}\n\n\tconst onOpenWindow = function (value: boolean) {\n\t\tsetOpenWindow(value)\n\t}\n\n\tconst onMouseDown = function (event: any) {\n\t\tconst { x, y } = getXYFromEvent(event)\n\t\tconst circle = findCircle(x, y)\n\t\tif (!circle) {\n\t\t\treturn\n\t\t}\n\n\t\tstate = \"start\"\n\t\tselectCircle = circle\n\t}\n\n\tconst onMouseMove = function (event: any) {\n\t\tif (state !== \"start\" || selectCircle === null) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { x, y } = getXYFromEvent(event)\n\t\tselectCircle.x = x\n\t\tselectCircle.y = y\n\t}\n\n\tconst onMouseUp = function (event: any) {\n\t\tif (state === \"start\") {\n\t\t\tstate = \"sleep\"\n\t\t}\n\t}\n\n\n\tuseEffect(() => {\n\t\tinitCanvas()\n\t\tRun()\n\t})\n\n\treturn (\n\t\t<div>\n\t\t\t<div id=\"GPUCircle\" onClick={onClick} onMouseDown={onMouseDown} onMouseMove={onMouseMove} onMouseUp={onMouseUp}>\n\t\t\t</div>\n\t\t\t<div className=\"stop-bar\" style={{ background: \"#fff\" }}>\n\t\t\t\t{selectCircle &&\n\t\t\t\t\t<Form.Item label=\"开启操作面板\">\n\t\t\t\t\t\t<Switch onChange={onOpenWindow} />\n\t\t\t\t\t</Form.Item>\n\t\t\t\t}\n\t\t\t\t<Form.Item label=\"渲染质量\" required tooltip=\"r\">\n\t\t\t\t\t<Slider min={1} max={60} onAfterChange={onNChange} defaultValue={N} />\n\t\t\t\t</Form.Item>\n\t\t\t</div>\n\t\t\t{selectCircle && openWindow &&\n\t\t\t\t<div className=\"tool-bar\">\n\t\t\t\t\t<Form labelCol={{ span: 4 }}\n\t\t\t\t\t\twrapperCol={{ span: 18 }} >\n\t\t\t\t\t\t<Form.Item label=\"半径r\" required tooltip=\"r\">\n\t\t\t\t\t\t\t<Slider range defaultValue={[0, 100]} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"R\" required tooltip=\"R\">\n\t\t\t\t\t\t\t<Slider range defaultValue={[0, 100]} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"G\" required tooltip=\"G\">\n\t\t\t\t\t\t\t<Slider range defaultValue={[0, 100]} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"B\" required tooltip=\"B\">\n\t\t\t\t\t\t\t<Slider range defaultValue={[0, 100]} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Form>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t)\n}","import React from 'react';\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport GPUCircle from \"./page/light/GPUCircle\"\n\nfunction App() {\n  return (\n    <>\n      <div className=\"App\">\n        <GPUCircle />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}